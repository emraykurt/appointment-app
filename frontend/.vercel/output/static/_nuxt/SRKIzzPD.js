import{_ as m,c as l,a as s,y as g,p as d,u,v as p,d as n,t as f,b as x,w as y,e as b,o as a}from"./L7mNsP-l.js";const w={data(){return{loginData:{email:"",password:""},loading:!1,errorMessage:""}},methods:{async login(){this.loading=!0,this.errorMessage="";try{const o=await fetch("http://localhost:3001/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.loginData)}),e=await o.json();if(!o.ok)throw new Error(e.msg||"Giriş başarısız");localStorage.setItem("token",e.token),this.$router.push("/"),setTimeout(()=>{window.location.reload()},300)}catch(o){this.errorMessage=o.message,console.error("Giriş hatası:",o)}finally{this.loading=!1}}}},h={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},v={class:"max-w-md w-full space-y-8"},k={class:"rounded-md shadow-sm -space-y-px"},_=["disabled"],D={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},M={key:0,class:"text-red-600 text-center"},V={class:"text-center mt-4"};function z(o,e,C,N,t,i){const c=b;return a(),l("div",h,[s("div",v,[e[9]||(e[9]=s("div",null,[s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Randevu Sistemine Giriş ")],-1)),s("form",{class:"mt-8 space-y-6",onSubmit:e[2]||(e[2]=g((...r)=>i.login&&i.login(...r),["prevent"]))},[s("div",k,[s("div",null,[e[3]||(e[3]=s("label",{for:"email",class:"sr-only"},"E-posta",-1)),u(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>t.loginData.email=r),name:"email",type:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"E-posta adresi"},null,512),[[p,t.loginData.email]])]),s("div",null,[e[4]||(e[4]=s("label",{for:"password",class:"sr-only"},"Şifre",-1)),u(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>t.loginData.password=r),name:"password",type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Şifre"},null,512),[[p,t.loginData.password]])])]),s("div",null,[s("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:t.loading},[t.loading?(a(),l("span",D,e[5]||(e[5]=[s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):d("",!0),e[6]||(e[6]=n(" Giriş Yap "))],8,_)]),t.errorMessage?(a(),l("div",M,f(t.errorMessage),1)):d("",!0),s("div",V,[s("p",null,[e[8]||(e[8]=n("Hesabınız yok mu? ")),x(c,{to:"/register",class:"text-blue-600 hover:underline"},{default:y(()=>e[7]||(e[7]=[n("Kayıt Olun")])),_:1})])])],32)])])}const T=m(w,[["render",z]]);export{T as default};
