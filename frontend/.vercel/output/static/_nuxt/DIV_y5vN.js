import{_ as m,c as l,a as e,y as f,p as n,t as p,u as i,v as d,d as c,b as x,w as b,z as y,o as a}from"./L7mNsP-l.js";const w={data(){return{registerData:{username:"",email:"",password:"",role:"user"},loading:!1,errorMessage:"",successMessage:""}},methods:{async register(){this.loading=!0,this.errorMessage="",this.successMessage="";try{const o=await fetch("http://localhost:3001/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.registerData)}),s=await o.json();if(!o.ok)throw new Error(s.error||"Kayıt başarısız");this.successMessage="Kayıt başarılı! Giriş sayfasına yönlendiriliyorsunuz...",this.registerData={username:"",email:"",password:"",role:"user"},setTimeout(()=>{this.$router.push("/login")},2e3)}catch(o){this.errorMessage=o.message,console.error("Kayıt hatası:",o)}finally{this.loading=!1}}}},v={class:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},h={class:"max-w-md w-full space-y-8"},M={key:0,class:"bg-red-50 border-l-4 border-red-500 p-4 mb-4"},k={class:"flex"},_={class:"ml-3"},z={class:"text-sm text-red-700"},D={class:"rounded-md shadow-sm -space-y-px"},C=["disabled"],V={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},B={key:1,class:"bg-green-50 border-l-4 border-green-500 p-4"},K={class:"flex"},L={class:"ml-3"},N={class:"text-sm text-green-700"},T={class:"text-center"};function j(o,s,E,O,r,u){const g=y("router-link");return a(),l("div",v,[e("div",h,[s[12]||(s[12]=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Yeni Hesap Oluştur ")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:s[3]||(s[3]=f((...t)=>u.register&&u.register(...t),["prevent"]))},[r.errorMessage?(a(),l("div",M,[e("div",k,[s[4]||(s[4]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",_,[e("p",z,p(r.errorMessage),1)])])])):n("",!0),e("div",D,[e("div",null,[s[5]||(s[5]=e("label",{for:"username",class:"sr-only"},"Kullanıcı Adı",-1)),i(e("input",{id:"username","onUpdate:modelValue":s[0]||(s[0]=t=>r.registerData.username=t),name:"username",type:"text",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Kullanıcı Adı"},null,512),[[d,r.registerData.username]])]),e("div",null,[s[6]||(s[6]=e("label",{for:"email",class:"sr-only"},"E-posta",-1)),i(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=t=>r.registerData.email=t),name:"email",type:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"E-posta adresi"},null,512),[[d,r.registerData.email]])]),e("div",null,[s[7]||(s[7]=e("label",{for:"password",class:"sr-only"},"Şifre",-1)),i(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>r.registerData.password=t),name:"password",type:"password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Şifre"},null,512),[[d,r.registerData.password]])])]),e("div",null,[e("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:r.loading},[r.loading?(a(),l("span",V,s[8]||(s[8]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):n("",!0),s[9]||(s[9]=c(" Kayıt Ol "))],8,C)]),r.successMessage?(a(),l("div",B,[e("div",K,[s[10]||(s[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",L,[e("p",N,p(r.successMessage),1)])])])):n("",!0),e("div",T,[x(g,{to:"/login",class:"text-blue-600 hover:text-blue-800"},{default:b(()=>s[11]||(s[11]=[c(" Zaten hesabınız var mı? Giriş yapın ")])),_:1})])],32)])])}const q=m(w,[["render",j]]);export{q as default};
